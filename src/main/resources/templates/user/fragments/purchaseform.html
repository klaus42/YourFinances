<div class="cash-form" th:fragment="purchaseform">
    <h1>Добавить покупку</h1>
    <form action="#" th:action="@{/user/purchase/add}" th:object="${purchase}" method="post">
        <div class="form-group">
            <label for="name">Наименование</label>
            <input autocomplete="off" type="text" class="form-control" id="name" th:field="*{name}"/>
            <p class="alert alert-danger" th:if="${#fields.hasErrors('name')}" th:errors="*{name}">
        </div>

        <div class="form-group">
            <label for="purchaseDate">Дата:</label>
            <input type="text" autocomplete="off" class="form-control" id="purchaseDate" th:field="*{purchaseDate}"/>
            <p class="alert alert-danger" th:if="${#fields.hasErrors('purchaseDate')}" th:errors="*{purchaseDate}">
        </div>

        <div class="form-group">
            <label for="currency">Валюта:</label>
            <select th:field="*{currency.name}" class="form-control" id="currency">
                <option th:each="currency: ${currencies}" th:value="${currency.name}"
                        th:text="${currency.displayName}"></option>
            </select>
        </div>
        <p>
            <input class="btn btn-success" type="submit" value="Submit">
            <input class="btn btn-primary" type="reset" value="Reset">
        </p>
    </form>
    <script>
        $(document).ready(function() {
            $('#purchaseDate').datetimepicker({
                value: 'asd',
                format:'Y-m-d H:i:s',
                lang:'ru'
            });

            $('#currency').select2({
               // theme: "bootstrap4",
                width : "100%" ,
                ajax: {
                    url: '/currencies',
                    dataType: 'json',
                    delay: 250,
                    processResults: function (response) {
                        return {
                            results: response
                        };
                    },
                    cache: true
                }
            });
        });
    </script>
</div>